{"ast":null,"code":"import React,{Fragment,useState,useEffect}from'react';import CardUpdate from'./CardUpdate';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const Card=()=>{const[infos,setInfos]=useState([]);const[selectedInfo,setSelectedInfo]=useState(null);const[showModal,setShowModal]=useState(false);const getinfo=async()=>{try{const response=await fetch('http://localhost:3000/api/v1/employee');const jsonData=await response.json();setInfos(jsonData);}catch(err){console.error(err.message);}};const deleteinfo=async()=>{try{const response=await fetch(`http://localhost:3000/api/v1/employee/${selectedInfo.id}`,{method:\"DELETE\",headers:{\"Content-Type\":\"application/json\"}});if(response.ok){setInfos(infos.filter(info=>info.id!==selectedInfo.id));setShowModal(false);}else{console.error('Failed to delete the info');}}catch(err){console.error(err.message);}};const openModal=info=>{setSelectedInfo(info);setShowModal(true);};const closeModal=()=>{setShowModal(false);setSelectedInfo(null);};useEffect(()=>{getinfo();},[]);return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl py-4 px-6 bg-indigo-200 text-white text-center font-bold uppercase \",children:\"Client Details\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap justify-center mt-10  \",children:infos.map(info=>/*#__PURE__*/_jsx(\"div\",{className:\"p-4 max-w-sm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex rounded-lg h-full bg-indigo-400 p-8 flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 mr-3 inline-flex items-center justify-center rounded-full bg-yellow-300 text-white flex-shrink-0\",children:/*#__PURE__*/_jsx(\"svg\",{fill:\"none\",stroke:\"currentColor\",strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",className:\"w-5 h-5\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M22 12h-4l-3 9L9 3l-3 9H2\"})})}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-white text-lg font-medium\",children:info.e_name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col justify-between flex-grow\",children:[/*#__PURE__*/_jsxs(\"ul\",{className:\"leading-relaxed text-base text-white \",children:[/*#__PURE__*/_jsxs(\"li\",{children:[\"Email: \",info.e_email]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Age: \",info.e_age]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Salary: \",info.e_salary]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Address: \",info.e_address]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Hiring Date: \",info.e_joining_date]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Total Sell: \",info.e_total_sell]}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(CardUpdate,{info:info})})]}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-red-500 rounded-tl-full rounded-br-full text-white text-sm text-center self-center px-4 py-2 m-2\",onClick:()=>openModal(info),children:\"Delete\"})]})]})},info.id))}),showModal&&/*#__PURE__*/_jsxs(\"div\",{className:\"fixed inset-0 z-40 flex items-center justify-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black opacity-50\",onClick:closeModal}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg overflow-hidden shadow-xl transform transition-all max-w-lg w-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold\",children:selectedInfo===null||selectedInfo===void 0?void 0:selectedInfo.e_name}),/*#__PURE__*/_jsx(\"p\",{children:\"Are you sure you want to delete this record?\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 flex justify-end space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded\",onClick:closeModal,children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded\",onClick:deleteinfo,children:\"Confirm\"})]})]})]})]});};","map":{"version":3,"names":["React","Fragment","useState","useEffect","CardUpdate","jsx","_jsx","jsxs","_jsxs","Card","infos","setInfos","selectedInfo","setSelectedInfo","showModal","setShowModal","getinfo","response","fetch","jsonData","json","err","console","error","message","deleteinfo","id","method","headers","ok","filter","info","openModal","closeModal","children","className","map","fill","stroke","strokeLinecap","strokeLinejoin","strokeWidth","viewBox","d","e_name","e_email","e_age","e_salary","e_address","e_joining_date","e_total_sell","onClick"],"sources":["/Users/oishichowdhury/Desktop/backend/frontend/src/Pages/Card.js"],"sourcesContent":["import React, { Fragment, useState, useEffect } from 'react';\nimport CardUpdate from './CardUpdate';\n\nexport const Card = () => {\n    const [infos, setInfos] = useState([]);\n    const [selectedInfo, setSelectedInfo] = useState(null);\n    const [showModal, setShowModal] = useState(false);\n\n    const getinfo = async () => {\n        try {\n            const response = await fetch('http://localhost:3000/api/v1/employee');\n            const jsonData = await response.json();\n            setInfos(jsonData);\n        } catch (err) {\n            console.error(err.message);\n        }\n    };\n\n    const deleteinfo = async () => {\n        try {\n            const response = await fetch(`http://localhost:3000/api/v1/employee/${selectedInfo.id}`, {\n                method: \"DELETE\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                }\n            });\n\n            if (response.ok) {\n                setInfos(infos.filter(info => info.id !== selectedInfo.id));\n                setShowModal(false);\n            } else {\n                console.error('Failed to delete the info');\n            }\n        } catch (err) {\n            console.error(err.message);\n        }\n    };\n\n    const openModal = (info) => {\n        setSelectedInfo(info);\n        setShowModal(true);\n    };\n\n    const closeModal = () => {\n        setShowModal(false);\n        setSelectedInfo(null);\n    };\n\n    useEffect(() => {\n        getinfo();\n    }, []);\n\n    return (\n        <Fragment>\n            <div className=\"text-2xl py-4 px-6 bg-indigo-200 text-white text-center font-bold uppercase \">\n                Client Details\n          </div>\n            <div className=\"flex flex-wrap justify-center mt-10  \">\n                {infos.map(info => (\n                    <div key={info.id} className=\"p-4 max-w-sm\">\n                        <div className=\"flex rounded-lg h-full bg-indigo-400 p-8 flex-col\">\n                            <div className=\"flex items-center mb-3\">\n                                <div className=\"w-8 h-8 mr-3 inline-flex items-center justify-center rounded-full bg-yellow-300 text-white flex-shrink-0\">\n                                    <svg fill=\"none\" stroke=\"currentColor\" strokeLinecap=\"round\" strokeLinejoin=\"round\"\n                                        strokeWidth=\"2\" className=\"w-5 h-5\" viewBox=\"0 0 24 24\">\n                                        <path d=\"M22 12h-4l-3 9L9 3l-3 9H2\"></path>\n                                    </svg>\n                                </div>\n                                <h2 className=\"text-white text-lg font-medium\">{info.e_name}</h2>\n                            </div>\n                            <div className=\"flex flex-col justify-between flex-grow\">\n                                <ul className=\"leading-relaxed text-base text-white \">\n                                    <li>Email: {info.e_email}</li>\n                                    <li>Age: {info.e_age}</li>\n                                    <li>Salary: {info.e_salary}</li>\n                                    <li>Address: {info.e_address}</li>\n                                    <li>Hiring Date: {info.e_joining_date}</li>\n                                    <li>Total Sell: {info.e_total_sell}</li>\n                                    <li><CardUpdate info={info} /></li>\n                                </ul>\n                                <button\n                                    className=\"bg-red-500 rounded-tl-full rounded-br-full text-white text-sm text-center self-center px-4 py-2 m-2\"\n                                    onClick={() => openModal(info)}\n                                >\n                                    Delete\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                ))}\n            </div>\n\n            {showModal && (\n                <div className=\"fixed inset-0 z-40 flex items-center justify-center\">\n                    <div className=\"fixed inset-0 bg-black opacity-50\" onClick={closeModal}></div>\n                    <div className=\"bg-white rounded-lg overflow-hidden shadow-xl transform transition-all max-w-lg w-full\">\n                        <div className=\"p-4\">\n                            <h2 className=\"text-lg font-semibold\">{selectedInfo?.e_name}</h2>\n                            <p>Are you sure you want to delete this record?</p>\n                        </div>\n                        <div className=\"p-4 flex justify-end space-x-4\">\n                            <button\n                                className=\"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded\"\n                                onClick={closeModal}\n                            >\n                                Cancel\n                            </button>\n                            <button\n                                className=\"bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded\"\n                                onClick={deleteinfo}\n                            >\n                                Confirm\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            )}\n       \n        </Fragment>\n    );\n};\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}